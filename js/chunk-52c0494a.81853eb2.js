(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52c0494a"],{"01e8":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"appMain"}},[n("div",{staticClass:"main-container"},[n("Chatbox",{attrs:{ry_message_thread:t.ry_message_thread,tagname:t.tagname}}),n("Inputbox",{on:{"add-ry-message":t.addRyMessage}}),n("Toppanel")],1)])},r=[],s=(n("4de4"),n("caad"),n("ac1f"),n("2532"),n("5319"),n("96cf"),n("1da1")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chat-box-main"},[n("div",{staticClass:"chat-box"},t._l(t.ry_message_thread,(function(e){return n("div",{key:e.id,staticClass:"message-strip",class:{message_strip_this:e.r_mess_thread.nametag===t.tagname}},[e.r_mess_thread.nametag!=t.tagname?n("div",{staticClass:"nametag",class:{nametag_this:e.r_mess_thread.nametag===t.tagname}},[t._v(t._s(e.r_mess_thread.nametag))]):t._e(),n("p",[n("span",{staticClass:"messagetext"},[t._v(t._s(e.r_mess_thread.r_text))])])])})),0)])},i=[],c={name:"Chatbox",components:{},props:["ry_message_thread","tagname"],data:function(){return{}},methods:{endScroller:function(){var t=document.querySelector("html"),e=t.scrollHeight;t.scrollTop=e}},mounted:function(){this.endScroller()},updated:function(){this.endScroller()}},u=c,l=(n("3da3"),n("2877")),d=Object(l["a"])(u,o,i,!1,null,"0d68088c",null),f=d.exports,p=n("52e6"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inputbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.ry_message,expression:"ry_message"}],staticClass:"mess-inp",attrs:{type:"text",autocomplete:"off",placeholder:">",id:"mess-inp"},domProps:{value:t.ry_message},on:{keyup:t.keymonitor,input:function(e){e.target.composing||(t.ry_message=e.target.value)}}}),n("button",{staticClass:"send",attrs:{id:"send"},on:{click:t.add_ry_message}},[n("div",[t._v(">")])])])},h=[],g={name:"Inputbox",props:[],data:function(){return{ry_message:""}},methods:{keymonitor:function(t){if("Enter"==t.key&&""!=this.ry_message){var e=this.ry_message;this.$emit("add-ry-message",e),this.ry_message=""}},add_ry_message:function(){if(""!=this.ry_message){var t=this.ry_message;this.$emit("add-ry-message",t),this.ry_message=""}}}},v=g,_=(n("139f"),Object(l["a"])(v,m,h,!1,null,"4056efd3",null)),y=_.exports,x=n("8aa5"),b=n.n(x),E=n("ec26"),C={name:"Appchat",components:{Toppanel:p["a"],Chatbox:f,Inputbox:y},data:function(){return{ry_message_thread:[],tagname:"",con_id:this.$route.params.con_id}},watch:{$route:function(t,e){this.con_id=t.params.con_id,console.log("oldparam:",e.params.con_id)}},created:function(){var t=this,e=b.a.auth().currentUser,n=b.a.firestore();n.collection("convos").doc(this.con_id).onSnapshot((function(a){if(a.exists){var r=a.data().auths;r.includes(e.uid)?(t.ry_message_thread=a.data().mainThread,n.collection("users").doc(e.uid).onSnapshot((function(e){e.exists?t.tagname=e.data().r_nametag:console.log("failed to parse")}))):t.$router.replace({path:"/rhymeapplobby"})}else console.log("failed to parse")}))},methods:{delRyMessage:function(t){this.ry_message_thread=this.ry_message_thread.filter((function(e){return e.id!==t}))},addRyMessage:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a,r,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=b.a.firestore(),r=Object(E["a"])(),s={id:r,r_mess_thread:{nametag:e.tagname,r_text:t}},o=a.collection("convos").doc(e.con_id),n.next=6,o.update({mainThread:b.a.firestore.FieldValue.arrayUnion(s)}).catch((function(t){console.log("Error getting documents: ",t)}));case 6:case"end":return n.stop()}}),n)})))()}}},R=C,S=(n("bd5d"),Object(l["a"])(R,a,r,!1,null,"a1a14268",null));e["default"]=S.exports},"06b1":function(t,e,n){},"139f":function(t,e,n){"use strict";var a=n("06b1"),r=n.n(a);r.a},"14c3":function(t,e,n){var a=n("c6b6"),r=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var s=n.call(t,e);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},1835:function(t,e,n){},"1dde":function(t,e,n){var a=n("d039"),r=n("b622"),s=n("2d00"),o=r("species");t.exports=function(t){return s>=51||!a((function(){var e=[],n=e.constructor={};return n[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1eb5":function(t,e,n){},"3da3":function(t,e,n){"use strict";var a=n("939b"),r=n.n(a);r.a},"4de4":function(t,e,n){"use strict";var a=n("23e7"),r=n("b727").filter,s=n("1dde"),o=n("ae40"),i=s("filter"),c=o("filter");a({target:"Array",proto:!0,forced:!i||!c},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"52e6":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"top-panel-main"},[t.showBackButton?n("div",{staticClass:"back-but",on:{click:t.backLobby}},[t._v(" "+t._s(this.symbol)+" ")]):t._e(),t._m(0),n("button",{staticClass:"top-drop",on:{click:function(e){t.menuActive=!t.menuActive}}},[t._v("/")])]),t.menuActive?n("div",{staticClass:"drop-menu"},[n("button",{staticClass:"menu-item",attrs:{id:"top-menu-items"},on:{click:t.navToRequests}},[t._v("Requests")]),n("hr"),n("p",{staticClass:"r_tag"},[t._v(t._s(t.nametag))]),n("button",{staticClass:"menu-item",on:{click:t.navToHome}},[t._v("Logout?")])]):t._e()])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"top-symb"},[a("img",{staticClass:"imger",attrs:{src:n("de8f"),width:"30",height:"30"}}),a("div",{staticClass:"title-2"},[t._v("Rhyme Chat")])])}],s=(n("ac1f"),n("5319"),n("8aa5")),o=n.n(s),i={name:"Toppanel",props:[],components:{},data:function(){return{menuActive:!1,email_tag:"",nametag:"",curr_route:"",showBackButton:!1,symbol:"<"}},created:function(){var t=this;"/rhymeapplobby"===this.$route.path?this.showBackButton=!1:this.showBackButton=!0;var e=o.a.auth().currentUser,n=o.a.firestore();n.collection("users").doc(e.uid).onSnapshot((function(e){e.exists?t.nametag=e.data().r_nametag:console.log("failed to parse")}))},methods:{navToHome:function(){var t=this;o.a.auth().signOut().then((function(){t.$router.replace({path:"/"})}))},navToRequests:function(){this.$router.replace({path:"/rhymeapprequests"})},backLobby:function(){this.$router.replace({path:"/rhymeapplobby"})}}},c=i,u=(n("9639"),n("2877")),l=Object(u["a"])(c,a,r,!1,null,"07c2bf4c",null);e["a"]=l.exports},5319:function(t,e,n){"use strict";var a=n("d784"),r=n("825a"),s=n("7b0b"),o=n("50c4"),i=n("a691"),c=n("1d80"),u=n("8aa59"),l=n("14c3"),d=Math.max,f=Math.min,p=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,e,n,a){var v=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,_=a.REPLACE_KEEPS_$0,y=v?"$":"$0";return[function(n,a){var r=c(this),s=void 0==n?void 0:n[t];return void 0!==s?s.call(n,r,a):e.call(String(r),n,a)},function(t,a){if(!v&&_||"string"===typeof a&&-1===a.indexOf(y)){var s=n(e,t,this,a);if(s.done)return s.value}var c=r(t),p=String(this),m="function"===typeof a;m||(a=String(a));var h=c.global;if(h){var b=c.unicode;c.lastIndex=0}var E=[];while(1){var C=l(c,p);if(null===C)break;if(E.push(C),!h)break;var R=String(C[0]);""===R&&(c.lastIndex=u(p,o(c.lastIndex),b))}for(var S="",$=0,k=0;k<E.length;k++){C=E[k];for(var w=String(C[0]),A=d(f(i(C.index),p.length),0),T=[],I=1;I<C.length;I++)T.push(g(C[I]));var U=C.groups;if(m){var P=[w].concat(T,A,p);void 0!==U&&P.push(U);var O=String(a.apply(void 0,P))}else O=x(w,p,A,T,U,a);A>=$&&(S+=p.slice($,A)+O,$=A+w.length)}return S+p.slice($)}];function x(t,n,a,r,o,i){var c=a+t.length,u=r.length,l=h;return void 0!==o&&(o=s(o),l=m),e.call(i,l,(function(e,s){var i;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,a);case"'":return n.slice(c);case"<":i=o[s.slice(1,-1)];break;default:var l=+s;if(0===l)return e;if(l>u){var d=p(l/10);return 0===d?e:d<=u?void 0===r[d-1]?s.charAt(1):r[d-1]+s.charAt(1):e}i=r[l-1]}return void 0===i?"":i}))}}))},6547:function(t,e,n){var a=n("a691"),r=n("1d80"),s=function(t){return function(e,n){var s,o,i=String(r(e)),c=a(n),u=i.length;return c<0||c>=u?t?"":void 0:(s=i.charCodeAt(c),s<55296||s>56319||c+1===u||(o=i.charCodeAt(c+1))<56320||o>57343?t?i.charAt(c):s:t?i.slice(c,c+2):o-56320+(s-55296<<10)+65536)}};t.exports={codeAt:s(!1),charAt:s(!0)}},"8aa59":function(t,e,n){"use strict";var a=n("6547").charAt;t.exports=function(t,e,n){return e+(n?a(t,e).length:1)}},9263:function(t,e,n){"use strict";var a=n("ad6d"),r=n("9f7f"),s=RegExp.prototype.exec,o=String.prototype.replace,i=s,c=function(){var t=/a/,e=/b*/g;return s.call(t,"a"),s.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=r.UNSUPPORTED_Y||r.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],d=c||l||u;d&&(i=function(t){var e,n,r,i,d=this,f=u&&d.sticky,p=a.call(d),m=d.source,h=0,g=t;return f&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),g=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(m="(?: "+m+")",g=" "+g,h++),n=new RegExp("^(?:"+m+")",p)),l&&(n=new RegExp("^"+m+"$(?!\\s)",p)),c&&(e=d.lastIndex),r=s.call(f?n:d,g),f?r?(r.input=r.input.slice(h),r[0]=r[0].slice(h),r.index=d.lastIndex,d.lastIndex+=r[0].length):d.lastIndex=0:c&&r&&(d.lastIndex=d.global?r.index+r[0].length:e),l&&r&&r.length>1&&o.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=i},"939b":function(t,e,n){},9639:function(t,e,n){"use strict";var a=n("1835"),r=n.n(a);r.a},"9f7f":function(t,e,n){"use strict";var a=n("d039");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=a((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=a((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ac1f:function(t,e,n){"use strict";var a=n("23e7"),r=n("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,e,n){"use strict";var a=n("825a");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},bd5d:function(t,e,n){"use strict";var a=n("1eb5"),r=n.n(a);r.a},d784:function(t,e,n){"use strict";n("ac1f");var a=n("6eeb"),r=n("d039"),s=n("b622"),o=n("9263"),i=n("9112"),c=s("species"),u=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),d=s("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),p=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var m=s(t),h=!r((function(){var e={};return e[m]=function(){return 7},7!=""[t](e)})),g=h&&!r((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[m]=/./[m]),n.exec=function(){return e=!0,null},n[m](""),!e}));if(!h||!g||"replace"===t&&(!u||!l||f)||"split"===t&&!p){var v=/./[m],_=n(m,""[t],(function(t,e,n,a,r){return e.exec===o?h&&!r?{done:!0,value:v.call(e,n,a)}:{done:!0,value:t.call(n,e,a)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),y=_[0],x=_[1];a(String.prototype,t,y),a(RegExp.prototype,m,2==e?function(t,e){return x.call(t,this,e)}:function(t){return x.call(t,this)})}d&&i(RegExp.prototype[m],"sham",!0)}},ec26:function(t,e,n){"use strict";var a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),r=new Uint8Array(16);function s(){if(!a)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(r)}for(var o=[],i=0;i<256;++i)o[i]=(i+256).toString(16).substr(1);function c(t,e){var n=e||0,a=o;return[a[t[n++]],a[t[n++]],a[t[n++]],a[t[n++]],"-",a[t[n++]],a[t[n++]],"-",a[t[n++]],a[t[n++]],"-",a[t[n++]],a[t[n++]],"-",a[t[n++]],a[t[n++]],a[t[n++]],a[t[n++]],a[t[n++]],a[t[n++]]].join("")}var u=c;function l(t,e,n){var a=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null),t=t||{};var r=t.random||(t.rng||s)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var o=0;o<16;++o)e[a+o]=r[o];return e||u(r)}e["a"]=l}}]);
//# sourceMappingURL=chunk-52c0494a.81853eb2.js.map